{%extends 'base.html'%}
{% block title %}Dashboard page{% endblock %}
{% block head%}
{{ super() }}
{% endblock %}
{% block content %}
<!-- <div class="container"><canvas id="bar-chart" width="80" height="60"></canvas></div>
  <div class="container"><canvas id="line-chart" width="800" height="60"></canvas></div> -->
<div class="container text-center">
  <div class="row row-cols-2">
    <div class="col"><canvas id="bar-chart" width="80" height="60"></canvas></div>
    <div class="col"><canvas id="line-chart" width="80" height="60"></canvas></div>

  </div>
</div>
<table class="table ">
  <thead>

    <tr>
      <th>id</th>
      <th>productid</th>
      <th>quantity</th>
      <th>created_at</th>

    </tr>
  </thead>
  {%for i in r_s%}
  <tbody>
    <tr>
      <td>{{i[0]}}</td>
      <td>{{i[1]}}</td>
      <td>{{i[2]}}</td>
      <td>{{i[3]}}</td>

    </tr>
    {% endfor %}
  </tbody>
</table>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
  integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>
<script>new Chart(document.getElementById("bar-chart"), {
    type: 'bar',
    data: {
      labels: {{ pn | safe }},
    datasets: [

    {
      label: "profit",
      backgroundColor: ["#3e95cd", "#8e5ea2", "#3cba9f", "#e8c3b9", "#c45850"],
      data: {{ prof | safe  }}
          }
    , {
      label: "sales",
      backgroundColor: ["#3e95cd", "#8e5ea2", "#3cba9f", "#e8c3b9", "#c45850"],
      data: {{ psales | safe  }}
          }
  ]
      },
    options: {
    legend: { display: false },
    title: {
      display: true,
      text: "Sales Per Product"
    }
  }
    });
</script>
<script>
  new Chart(document.getElementById("line-chart"), {
    type: 'line',
    data: {
      labels: {{ date | safe}},
    datasets: [{
      data: {{ sales_d | safe}},
    label: "sales",
    borderColor: "#3e95cd",
    fill: false
        }, {
      data: {{ date | safe}},
    label: "date",
    borderColor: "#8e5ea2",
    fill: false
        }, {
      data: {{ profit_d | safe}},
    label: "Profit Per Day",
    borderColor: "#8e5ea2",
    fill: false
        },
  ]
      },
    options: {
    title: {
      display: true,
      text: 'Sales Per Day'
    }
  }
    });
</script>





{% endblock %}